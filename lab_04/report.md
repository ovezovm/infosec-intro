# Лабораторная работа №4
**Автор:** Овезов Мерген  
**Тема:** Дискреционное разграничение прав в Linux. Расширенные атрибуты  

---

## 1. Цель работы
Получение практических навыков работы в консоли с расширенными атрибутами файлов.

---

## 2. Выполнение лабораторной работы

### 2.1 Определение расширенных атрибутов файла
**Под кем:** `guest`  
**Команда:**
```bash
lsattr /home/guest/dir1/file1
```
**Результат:**  
_[Скриншот Figure 1: права доступа]_

---

### 2.2 Установка прав доступа
**Под кем:** `guest`  
**Команда:**
```bash
chmod 600 file1
```
— Права: чтение и запись только для владельца.

---

### 2.3 Попытка установки атрибута `a` от имени `guest`
**Команда:**
```bash
chattr +a /home/guest/dir1/file1
```
**Результат:**  
Отказ — недостаточно прав для изменения расширенных атрибутов.

---

### 2.4 Установка атрибута `a` от имени суперпользователя
**Под кем:** root (`ovm` или `su`)  
**Команда:**
```bash
chattr +a /home/guest/dir1/file1
```
**Результат:**  
Команда выполнена успешно.

---

### 2.5 Проверка установки атрибута
**Под кем:** `guest`  
**Команда:**
```bash
lsattr /home/guest/dir1/file1
```
**Результат:**  
Атрибут `a` установлен.

---

### 2.6 Дозапись в файл
**Под кем:** `guest`  
**Команда:**
```bash
echo "test" >> /home/guest/dir1/file1
```
**Результат:**  
Дозапись выполнена.

---

### 2.7 Чтение файла
**Команда:**
```bash
cat /home/guest/dir1/file1
```
**Результат:**  
Файл содержит строку `test`.

---

### 2.8 Попытка перезаписи, удаления или переименования
**Команды:**
```bash
echo "abcd" > /home/guest/dir1/file1
rm /home/guest/dir1/file1
mv /home/guest/dir1/file1 /home/guest/dir1/file1_new
```
**Результат:**  
Все операции запрещены.

---

### 2.9 Попытка смены прав при установленном `a`
**Команда:**
```bash
chmod 000 file1
```
**Результат:**  
Команда не выполняется.

---

### 2.10 Снятие атрибута `a`
**Под кем:** root  
**Команда:**
```bash
chattr -a /home/guest/dir1/file1
```
**Результат:**  
Атрибут снят.  
_[Скриншот Figure 3: атрибут -a снят]_

---

### 2.11 Повтор операций после снятия `a`
Теперь возможно:
- Переписать файл
- Удалить файл
- Переименовать файл
- Сменить права

---

### 2.12 Замена атрибута `a` на `i`
**Под кем:** root  
**Команда:**
```bash
chattr +i /home/guest/dir1/file1
```
**Результат:**  
Атрибут `i` запрещает любые изменения: дозапись, переименование, удаление, смену атрибутов.  
_[Скриншот Figure 4: атрибут -i]_

---

## 3. Выводы
В ходе выполнения работы были:
- Получены практические навыки работы с расширенными атрибутами файлов.
- Изучены атрибуты `a` (append only) и `i` (immutable).
- Проверено влияние этих атрибутов на возможность изменения, удаления и переименования файлов.

---

## 4. Список литературы
- **КОМАНДА CHATTR В LINUX** — документация по использованию `chattr`.
```

---
